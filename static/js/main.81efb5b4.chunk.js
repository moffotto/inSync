(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},112:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},143:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){},227:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(32),o=a.n(s),c=(a(103),a(104),a(10)),l=a(11),i=a(14),u=a(12),m=a(9),h=a(13),d=(a(105),a(85)),p=a.n(d),f=a(240),g=a(234),E=a(243),y=a(244),b=(a(106),a(230)),v=a(228),w=a(86),x=a(245),_=a(229),N=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(v.a,{key:"member"+this.props.index,className:"row-margin-1"},r.a.createElement(w.a,{xs:{span:8,offset:2}},r.a.createElement(x.a,{body:!0,className:"team-card"},r.a.createElement(v.a,null,r.a.createElement(w.a,{xs:3},r.a.createElement(_.a,{src:this.props.member.image,thumbnail:!0,fluid:!0})),r.a.createElement(w.a,{xs:8},r.a.createElement(v.a,null,r.a.createElement("h4",null,this.props.member.name)),r.a.createElement(v.a,null,this.props.member.bio))))))}}]),t}(n.Component),k=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(v.a,{key:"member"+this.props.index,className:"row-margin-2"},r.a.createElement(w.a,{xs:{span:4,offset:6}},r.a.createElement(_.a,{src:this.props.member.src,fluid:!0})))}}]),t}(n.Component),O=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(b.a,null,this.props.group.map(function(t,a){return r.a.createElement("div",{key:e.props.type+"-showcase-"+a},"team"===e.props.type&&r.a.createElement(N,{member:t,index:a,key:"team-"+a}),"icon"===e.props.type&&r.a.createElement(k,{member:t,index:a,key:"icon-"+a}))}))}}]),t}(n.Component),S=[{name:"Adele Miller",bio:"Adele is majoring in Informatics at the University of Washington. She is a long time hackathon organizer and has served as a teaching assistant in several courses in the Informatics program. She will be starting as a security engineer in September.",image:"./img/Landing/adele.jpg"},{name:"Harshitha Akkaraju",bio:"Harshitha is studying Informatics at the University of Washington, Seattle. She is an avid follower of tech podcasts Software Engineering Daily and the Women in Tech Show. She is passionate about improving equity in access to STEM and computing education; she does outreach work through UW Society of Women Engineers and Women in Informatics. During Summer 2019, she will be working with PayPal as a Software Engineering Intern.",image:"./img/Landing/harshitha.png"},{name:"Shaarika Kaul",bio:"Shaarika is studying Informatics and Communication at the University of Washington, Seattle. She has a passion for interdisciplinary cooperation in technology and works to bring several departments together including Communications, Informatics, Business, and CoMotion (the non academic entrepreneurship department). She also started a fusion band in college! In the Fall, she will working at Deloitte as a Business Technology Analyst.",image:"./img/Landing/shaarika.png"},{name:"Sam Otto",bio:"Sam is majoring in Informatics at the University of Washington with a dual focus in information security and data science. He will begin a position as a cyber risk consultant this upcoming summer.",image:"./img/Landing/sam.jpg"}],j=[{src:"./img/Landing/aws_logo.svg"},{src:"./img/Landing/aws_cloud.svg"},{src:"./img/Landing/aws_ssl.svg"}],A=[{name:"Joe Basirico",bio:"Joe is a Senior VP of Engineering at Security Innovation. Among other duties, he is responsible for the development of the CMD+CTRL product, which is the penetration testing platform that will support CubeRule.",image:"./img/Landing/security_innovation.png"},{name:"Informatics, UW",bio:"This product is being developed within the context of the Informatics program capstone at the University of Washington, Seattle.",image:"./img/Landing/informatics_logo.png"}],T=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(b.a,{fluid:!0},r.a.createElement(v.a,null,r.a.createElement("div",{className:"thumbnail text-center"},r.a.createElement(_.a,{src:"./img/Landing/cube_background.png",fluid:!0}),r.a.createElement("div",{className:"caption"},r.a.createElement("h1",{className:"white-text real-big"},"C u b e R u l e"),r.a.createElement("h2",{className:"white-text"},"The Future of Food Classification"),r.a.createElement("br",null),r.a.createElement("a",{href:"#about"},r.a.createElement("button",{className:"bouncy landing__button"},"Myth or Fact: Is a hotdog a sandwich?")))))),r.a.createElement(b.a,{id:"about"},r.a.createElement(v.a,{className:"row-margin-6"},r.a.createElement("h1",{className:"white-text"},"What this is")),r.a.createElement(v.a,null,r.a.createElement(w.a,{xs:8},r.a.createElement(v.a,{className:"white-text row-margin-1"},"Cloud computing services have become a fundamental component of modern business. With more and more specialized services being offered, the complexity that developers must face every day only grows. This complexity leads to insecure platforms and compromised code."),r.a.createElement(v.a,{className:"white-text row-margin-1"},"CubeRule seeks to help developers and security professionals train by creating a 'cyber range' - an intentionally insecure platform where 'players' can score points by hacking its functionality. Through the process of identifying and exploiting vulnerabilities, developers learn how to secure their own applications."),r.a.createElement(v.a,{className:"white-text row-margin-1"},"This fictitious app will focus on vulnerabilities in Amazon Web Services, such as S3, EC2, and DynamoDB.")),r.a.createElement(w.a,{xs:4},r.a.createElement(O,{group:j,type:"icon"})))),r.a.createElement(b.a,null,r.a.createElement(v.a,{className:"row-margin-6"},r.a.createElement("h1",{className:"white-text"},"Who we are")),r.a.createElement(v.a,{className:"row-margin-1"},r.a.createElement(O,{group:S,type:"team"}))),r.a.createElement(b.a,null,r.a.createElement(v.a,{className:"row-margin-6"},r.a.createElement("h1",{className:"white-text"},"Our sponsors")),r.a.createElement(v.a,{className:"row-margin-1"},r.a.createElement(O,{group:A,type:"team"}))),r.a.createElement(b.a,null,r.a.createElement(v.a,{className:"row-margin-6"},r.a.createElement(w.a,{xs:6},r.a.createElement(v.a,null,r.a.createElement("h1",{className:"white-text"},'Why "CubeRule"?')),r.a.createElement(v.a,{className:"row-margin-1 white-text"},r.a.createElement("p",null,'This fictitious app must have a theme, and we derived it from the concept of the "Cube Rule", seen on ',r.a.createElement("a",{className:"white-text",href:"http://cuberule.com/"},"cuberule.com."),' The \'Cube Rule\' specifies a method for classifying food into multiple categories, such as toast, taco, sandwhich, calzone, and quiche. The storyline for this application is that of a new startup offering the ability to detect these food classifications through the use of "computer vision techniques" and "smart AI technologies".'))),r.a.createElement(w.a,{xs:{span:5,offset:1}},r.a.createElement(v.a,null,r.a.createElement("h1",{className:"white-text"},"Contact us")),r.a.createElement(v.a,{className:"row-margin-1 white-text"},"If you are a developer or security engineer with AWS experience and would like to help test this application, or for any other reason, please feel free to contact us at: moffotto@uw.edu")))),r.a.createElement("footer",{className:"landing__footer"},r.a.createElement(b.a,null,r.a.createElement(v.a,null,r.a.createElement(w.a,{xs:{span:5,offset:7}},r.a.createElement("h5",{className:"white-text"},"Attribution"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{className:"white-text",href:"http://cuberule.com/"},"Name inspired by The Cube Rule")),r.a.createElement("li",null,r.a.createElement("a",{className:"white-text",href:"https://www.pexels.com/photo/orange-cube-1340185/"},"Photo by Magda Ehlers from Pexels")),r.a.createElement("li",null,r.a.createElement("a",{className:"white-text",href:"https://icons8.com/icons"},"Icons by Icons8.com")))))),r.a.createElement("div",{className:"footer-copyright white-text"},r.a.createElement(b.a,null,"\xa9 2018 [fake] Copyright Text"))))}}]),t}(n.Component),C=(a(107),a(241)),I=a(237),D=a(231),M=a(5),B=a.n(M),z=a(37),U=a(8),P="http://localhost:4000";function H(e){var t=e.headers;t.has("Challengename")&&function(e,t){var a=document;if(a.getElementById("modalContainer"))return;var n=a.getElementsByTagName("body")[0].appendChild(a.createElement("div"));n.id="modalContainer",n.style.height=a.documentElement.scrollHeight+"px";var r=n.appendChild(a.createElement("div"));r.id="alertBox",a.all&&!window.opera&&(r.style.top=document.documentElement.scrollTop+"px");r.style.left=(a.documentElement.scrollWidth-r.offsetWidth)/2+"px",r.style.visiblity="visible",r.appendChild(a.createElement("h1")).appendChild(a.createTextNode("Hacked for "+t+" points!")),r.appendChild(a.createElement("p")).innerHTML=e;var s=r.appendChild(a.createElement("a"));s.id="closeBtn",s.appendChild(a.createTextNode("Continue")),s.href="#",s.focus(),s.onclick=function(){return document.getElementsByTagName("body")[0].removeChild(document.getElementById("modalContainer")),!1},r.style.display="block"}(t.get("Challengedescription"),t.get("Challengepoints"))}var F=window.localStorage;function R(){return(R=Object(U.a)(B.a.mark(function e(t,a,n){var r;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,e.next=3,fetch(P+"/v1/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:t,password:a})}).then(function(e){return H(e),r=e.headers.get("Authorization"),e.json()}).then(function(e){F.setItem("Authorization",r),F.setItem("User",JSON.stringify(e)),n()}).catch(function(e){console.error(e)});case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function L(){return(L=Object(U.a)(B.a.mark(function e(t){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P+"/v1/sessions/mine",{method:"DELETE",headers:{Authorization:F.getItem("Authorization")}}).then(function(e){return H(e),e}).then(function(e){F.removeItem("Authorization"),F.removeItem("User"),t()}).catch(function(e){console.error(e)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function G(){return W.apply(this,arguments)}function W(){return(W=Object(U.a)(B.a.mark(function e(){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P+"/v1/search_users",{method:"GET",headers:{Authorization:F.getItem("Authorization")}}).then(function(e){return H(e),e.json()}).then(function(e){return e}).catch(function(e){console.error(e)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function J(e,t){var a=""+t.toUpperCase(),n=[];return""!==a?e.forEach(function(e){(e.user.firstName.toUpperCase()+" "+e.user.lastName.toUpperCase()).includes(a)&&(n=[e].concat(Object(z.a)(n)))}):n=n.concat(Object(z.a)(e)),n}var K=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={password:"",username:"",errorMessage:""},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value,n={};n[t]=a,this.setState(n)}},{key:"render",value:function(){var e=this,t=(this.props.location.state||{from:{pathname:"/"}}).from;return this.props.isAuthed?r.a.createElement(C.a,{to:t}):r.a.createElement(n.Fragment,null,r.a.createElement(b.a,{fluid:!0},r.a.createElement(v.a,null,r.a.createElement(w.a,{xs:8,className:"no-left-padding"},r.a.createElement(_.a,{src:"./img/Login/login_1.png",fluid:!0})),r.a.createElement(w.a,{xs:4},r.a.createElement(w.a,{xs:{span:10,offset:1}},r.a.createElement(x.a,{className:"login__card"},r.a.createElement(x.a.Body,null,r.a.createElement(I.a,null,"/"!==t.pathname&&r.a.createElement("p",null,"You must log in to view the page at ",t.pathname),r.a.createElement("h3",null,"Sign In"),r.a.createElement(I.a.Group,{controlId:"loginEmail"},r.a.createElement(I.a.Control,{type:"Username",placeholder:"Username",name:"username",value:this.state.username,onChange:function(t){e.handleChange(t)}})),r.a.createElement(I.a.Group,{controlId:"loginPassword"},r.a.createElement(I.a.Control,{type:"Password",placeholder:"Password",name:"password",value:this.state.password,onChange:function(t){e.handleChange(t)}})),r.a.createElement(D.a,{className:"login__login-button",onClick:function(){!function(e,t,a){R.apply(this,arguments)}(e.state.username,e.state.password,e.props.handleSignIn)},block:!0},"Log In")))))))))}}]),t}(n.Component),Y=(a(112),a(28)),q=a.n(Y),V=(a(119),a(232)),Q=a(89),X=a.n(Q),Z=a(90),$=a.n(Z),ee=a(91),te=a.n(ee),ae=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={direction:null},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(x.a,{className:"home__main-card"},r.a.createElement(x.a.Header,{as:"h5"},"Welcome back!"),r.a.createElement(x.a.Body,null,r.a.createElement(x.a.Title,null,"Check out what's important today"),r.a.createElement(V.a,null,r.a.createElement(x.a,null,r.a.createElement(x.a.Img,{variant:"top",src:X.a}),r.a.createElement(x.a.Body,null,r.a.createElement(x.a.Title,null,"New Hire?"),r.a.createElement(x.a.Text,null,"If you're an incoming hire and haven't checked out the orientation document, you should! We're so proud that our team (or should I say... family?) has been growing so quickly!"),r.a.createElement(x.a.Link,{onClick:function(){return e.props.history.push("/portal/documents")},className:"home__custom-card-link"},"Go to document"))),r.a.createElement(x.a,null,r.a.createElement(x.a.Img,{variant:"top",src:$.a}),r.a.createElement(x.a.Body,null,r.a.createElement(x.a.Title,null,"Know the Doctrine"),r.a.createElement(x.a.Text,null,'The "Cube Rule" is the inspiration for this platform. Company policy is to know what it is.'),r.a.createElement(x.a.Link,{href:"http://cuberule.com/"},"Check it out"))),r.a.createElement(x.a,{className:"p-3"},r.a.createElement("blockquote",{className:"blockquote mb-0 card-body"},r.a.createElement("p",null,"\u201cThe privilege of a lifetime is being who you are.\u201d"),r.a.createElement("footer",{className:"blockquote-footer"},r.a.createElement("small",{className:"text-muted"},"Joseph Campbell")))),r.a.createElement(x.a,{className:"text-right"},r.a.createElement("blockquote",{className:"blockquote mb-0 card-body"},r.a.createElement("p",null,'"If your compassion does not include yourself, it is incomplete."'),r.a.createElement("footer",{className:"blockquote-footer"},r.a.createElement("small",{className:"text-muted"},"Jack Kornfield")))),r.a.createElement(x.a,null,r.a.createElement(x.a.Img,{variant:"top",src:te.a}),r.a.createElement(x.a.Body,null,r.a.createElement(x.a.Title,null,"AWS Security"),r.a.createElement(x.a.Text,null,"Have you thought about security today? If not, consider this article on securing your AWS environment in the cloud."),r.a.createElement(x.a.Link,{href:"https://www.sumologic.com/aws/aws-security/"},"AWS Security 101"))),r.a.createElement(x.a,{className:"text-center"},r.a.createElement(x.a.Body,null,r.a.createElement(x.a.Title,null,"Daily Reminder"),r.a.createElement(x.a.Text,null,"Give your food the attention it deserves."),r.a.createElement(x.a.Text,null,r.a.createElement("small",{className:"text-muted"},"-Your CEO"))))))))}}]),t}(n.Component),ne=(a(120),window.localStorage);function re(){return se.apply(this,arguments)}function se(){return(se=Object(U.a)(B.a.mark(function e(){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P+"/v1/camochat",{method:"GET",headers:{Authorization:ne.getItem("Authorization")}}).then(function(e){return H(e),e.json()}).then(function(e){return e}).catch(function(e){console.error(e)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function oe(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(U.a)(B.a.mark(function e(t){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P+"/v1/camochat",{method:"POST",body:JSON.stringify({topicName:t}),headers:{Authorization:ne.getItem("Authorization"),"Content-Type":"application/json"}}).then(function(e){return H(e),e.json()}).then(function(e){return e}).catch(function(e){console.error(e)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function le(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(U.a)(B.a.mark(function e(t){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P+"/v1/camochat/"+t+"/replies",{method:"GET",headers:{Authorization:ne.getItem("Authorization")}}).then(function(e){return H(e),e.json()}).then(function(e){return e}).catch(function(e){console.error(e)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ue(e,t){return me.apply(this,arguments)}function me(){return(me=Object(U.a)(B.a.mark(function e(t,a){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P+"/v1/camochat/"+t+"/replies",{method:"POST",body:JSON.stringify({content:a}),headers:{Authorization:ne.getItem("Authorization"),"Content-Type":"application/json"}}).then(function(e){return H(e),e.json()}).then(function(e){return e}).catch(function(e){console.error(e)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var he=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={replies:null,newReplyText:""},a.handleNewPost=a.handleNewPost.bind(Object(m.a)(a)),a.scrollToBottom=a.scrollToBottom.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(U.a)(B.a.mark(function e(){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,le(this.props.thread.topicID);case 3:e.t1=e.sent,e.t2={replies:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value,n={};n[t]=a,this.setState(n)}},{key:"handleNewPost",value:function(){var e=Object(U.a)(B.a.mark(function e(){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(this.props.thread.topicID,this.state.newReplyText);case 2:if(void 0!==e.sent){e.next=7;break}this.setState({sendError:!0}),e.next=14;break;case 7:return e.t0=this,e.next=10,le(this.props.thread.topicID);case 10:e.t1=e.sent,e.t2={replies:e.t1,newReplyText:""},e.t0.setState.call(e.t0,e.t2),this.scrollToBottom();case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"scrollToBottom",value:function(){this.repliesEnd.scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"camochat__camothread-background "+(!1===this.props.navToggle?"camochat__background-toggle-off":"camochat__background-toggle-on")},r.a.createElement("div",{className:"camochat__back-container"},r.a.createElement(D.a,{className:"camochat__back-button",onClick:function(){return e.props.history.push("/portal/camochat")}},r.a.createElement("i",{className:"fas fa-chevron-left",style:{fontSize:"1.75em"}}),"Back")),r.a.createElement(v.a,{className:"camochat__heading-box"},r.a.createElement(x.a,{className:"camochat__topic-card "+(this.props.user.id===this.props.thread.authorID?"camochat__card-user":"camochat__card-other-user")},r.a.createElement(x.a.Body,null,r.a.createElement("p",{className:"camochat__thread-topic-text"},this.props.thread.topicName))))),void 0!==this.state.replies&&null!==this.state.replies&&this.state.replies.map(function(t){return r.a.createElement(v.a,{key:t.ID,className:"camochat__message-box"},r.a.createElement(x.a,{className:"camochat__card "+(e.props.user.id===t.userID?"camochat__card-user":"camochat__card-other-user")},r.a.createElement(x.a.Body,null,r.a.createElement("p",null,t.content)),r.a.createElement(x.a.Footer,{className:"camochat__text-muted camochat__card-footer"},t.createdAt)))}),r.a.createElement("div",{className:"autoscroll-dummy",ref:function(t){e.repliesEnd=t}}),r.a.createElement(v.a,{className:"camochat__form-body"},r.a.createElement(x.a,{className:"camochat__form-card"},r.a.createElement(I.a.Group,{controlId:"replyText"},r.a.createElement(I.a.Control,{type:"Text",as:"textarea",rows:"3",placeholder:"Your thoughts, feelings, whatever...",name:"newReplyText",value:this.state.newReplyText,onChange:function(t){e.handleChange(t)}})),r.a.createElement(D.a,{className:"camochat__back-button",onClick:function(){e.handleNewPost()},block:!0},"Post"))))}}]),t}(n.Component),de=a(236),pe=a(233),fe=[{name:"dice-one"},{name:"dice-two"},{name:"dice-three"},{name:"dice-four"},{name:"dice-five"},{name:"dice-six"}],ge=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={threads:null,showModal:!1,newPostText:"",sendError:!1},a.closeModal=a.closeModal.bind(Object(m.a)(a)),a.handleNewPost=a.handleNewPost.bind(Object(m.a)(a)),a.scrollToBottom=a.scrollToBottom.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(U.a)(B.a.mark(function e(){var t;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re();case 2:t=e.sent,this.setState({threads:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value,n={};n[t]=a,this.setState(n)}},{key:"closeModal",value:function(){this.setState({showModal:!1,newPostText:"",sendError:!1})}},{key:"handleNewPost",value:function(){var e=Object(U.a)(B.a.mark(function e(){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(this.state.newPostText);case 2:if(void 0!==e.sent){e.next=7;break}this.setState({sendError:!0}),e.next=15;break;case 7:return this.closeModal(),e.t0=this,e.next=11,re();case 11:e.t1=e.sent,e.t2={threads:e.t1},e.t0.setState.call(e.t0,e.t2),this.scrollToBottom();case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"scrollToBottom",value:function(){this.postsEnd.scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(de.a,{id:!1===this.props.navToggle?"camochat__modal-toggle-off":"camochat__modal-toggle-on",size:"lg",onHide:function(){e.closeModal()},show:this.state.showModal,centered:!0,className:!0},this.state.sendError&&r.a.createElement(pe.a,{variant:"danger"}," Something went wrong. Please try again "),r.a.createElement(de.a.Header,{closeButton:!0},r.a.createElement(de.a.Title,{className:"white-text"},"Super Secret Post")),r.a.createElement(de.a.Body,null,r.a.createElement(I.a.Group,{controlId:"postText"},r.a.createElement(I.a.Control,{type:"Text",as:"textarea",rows:"3",placeholder:"Your thoughts, feelings, whatever...",name:"newPostText",value:this.state.newPostText,onChange:function(t){e.handleChange(t)}}))),r.a.createElement(de.a.Footer,null,r.a.createElement(D.a,{className:"camochat__post-new-btn",onClick:function(){e.handleNewPost()},block:!0},"Post"))),r.a.createElement(y.a,{exact:!0,path:"/portal/camochat",render:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"camochat__camo-background "+(!1===e.props.navToggle?"camochat__background-toggle-off":"camochat__background-toggle-on")},r.a.createElement(v.a,{className:"camochat__heading"},r.a.createElement(w.a,{xs:7},r.a.createElement(v.a,null,r.a.createElement("h1",{className:"white-text camochat__text-shadow"},"Camochat")),r.a.createElement(v.a,null,r.a.createElement("p",{className:"white-text camochat__text-shadow"},"Anonymous employee conversation. Don't worry! Your boss doesn't know it's you!"))),r.a.createElement(w.a,{xs:5},r.a.createElement("div",null,r.a.createElement("i",{className:"far fa-edit camochat__new-message-icon float-right",style:{fontSize:"2em"},onClick:function(){return e.setState({showModal:!0})}})," ")))),r.a.createElement("div",{className:"camochat__body-padding"},void 0!==e.state.threads&&null!==e.state.threads&&e.state.threads.map(function(t,a){for(var n=[],s=(a+1)%6,o=Math.floor((a+1)/6),c=0;c<o;c++)n.push(r.a.createElement("i",{className:"fa fa-dice-six float-left",style:{fontSize:"2em"},key:"six-die-"+c}));return r.a.createElement(v.a,{key:"camochat-thread-card-"+t.topicID,className:"camochat__message-box"},r.a.createElement(x.a,{className:"camochat__card "+(e.props.user.id===t.authorID?"camochat__card-user":"camochat__card-other-user")},r.a.createElement(x.a.Header,null,r.a.createElement("div",null,n.map(function(e){return e}),0!==s&&r.a.createElement("i",{className:"fa float-left fa-"+fe[s-1].name,style:{fontSize:"2em"}}))),r.a.createElement(x.a.Body,null,r.a.createElement(x.a.Text,null,t.topicName)),r.a.createElement(x.a.Footer,{className:"camochat__text-muted camochat__card-footer"},r.a.createElement(g.a,{to:"/portal/camochat/"+t.topicID},"Join the conversation ",r.a.createElement("i",{className:"fas fa-reply fa-flip-horizontal camochat__join-convo-icon",style:{fontSize:"1.3em"}})))))}),r.a.createElement("div",{className:"autoscroll-dummy",ref:function(t){e.postsEnd=t}})))}}),void 0!==this.state.threads&&null!==this.state.threads&&this.state.threads.map(function(t){return r.a.createElement(y.a,{key:"camochat-thread-"+t.topicID,path:"/portal/camochat/"+t.topicID,render:function(a){return r.a.createElement(he,Object.assign({},a,{thread:t,user:e.props.user,navToggle:e.props.navToggle}))}})}))}}]),t}(n.Component),Ee=(a(143),a(29)),ye=(a(144),a(235)),be=a(88),ve=a(93),we=a.n(ve),xe=window.localStorage;function _e(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(U.a)(B.a.mark(function e(t){var a;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.next=3,fetch(P+"/v1/docs/get?bucketID=cube-hr-files",{method:"GET",headers:{Authorization:xe.getItem("Authorization")}}).then(function(e){return H(e),a={status:e.status,statusText:e.statusText},e.json()}).then(function(e){return e}).catch(function(e){return console.error(e),a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ke(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(U.a)(B.a.mark(function e(t){var a,n;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={},n=JSON.parse(xe.getItem("User")).userName,e.next=4,fetch(P+"/v1/docs/get?bucketID="+t+"&username="+n,{method:"GET",headers:{Authorization:xe.getItem("Authorization")}}).then(function(e){return H(e),a={status:e.status,statusText:e.statusText},e.json()}).then(function(e){return e}).catch(function(e){return console.error(e),a});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Se(e){return je.apply(this,arguments)}function je(){return(je=Object(U.a)(B.a.mark(function e(t){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P+"/v1/docs",{method:"POST",body:JSON.stringify({content:{bucketID:"cube-hr-files"}}),headers:{Authorization:xe.getItem("Authorization"),"Content-Type":"application/json"}}).then(function(e){return H(e),e.json()}).then(function(e){return e}).catch(function(e){console.error(e)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ae=a(95),Te={document:"far fa-file-alt"},Ce=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={showModal:"",modalContent:null,modalTitle:"",modalAuthor:"",searchBucketName:"",showAlert:"",alertText:"",hrDocs:null},a.handleShow=a.handleShow.bind(Object(m.a)(a)),a.closeAlert=a.closeAlert.bind(Object(m.a)(a)),a.handleHide=a.handleHide.bind(Object(m.a)(a)),a.handleDocClick=a.handleDocClick.bind(Object(m.a)(a)),a.handleBucketSearch=a.handleBucketSearch.bind(Object(m.a)(a)),a.handleHrUpload=a.handleHrUpload.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(U.a)(B.a.mark(function e(){var t;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e();case 2:(t=e.sent).status&&(this.setState({showAlert:"hrFiles",alertText:"Error: "+t.status+" - "+t.statusText}),t=null),this.setState({hrDocs:t});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleShow",value:function(e){this.setState({showModal:e})}},{key:"handleHide",value:function(){this.setState({showModal:"",modalContent:null,modalTitle:"",modalAuthor:""})}},{key:"closeAlert",value:function(){this.setState({showAlert:"",alertText:""})}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value,n={};n[t]=a,this.setState(n)}},{key:"handleDocClick",value:function(e){this.setState({modalContent:e.content,modalTitle:e.title,modalAuthor:e.author}),this.handleShow("doc")}},{key:"handleBucketSearch",value:function(){var e=Object(U.a)(B.a.mark(function e(){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(this.state.searchBucketName);case 2:400===e.sent.status?this.setState({showAlert:"buckets",alertText:"No such bucket"}):this.setState({showAlert:"buckets",alertText:"Something went wrong. Please try again."});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleHrUpload",value:function(){var e=Object(U.a)(B.a.mark(function e(t){var a;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se(t);case 2:a=e.sent,0!==t.length&&"500"===a.Code?this.setState({showAlert:"upload",alertText:JSON.stringify(a)}):this.setState({showAlert:"upload",alertText:"Something went wrong. Please try again."});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=function(t){return e.state[t].map(function(t,a){return r.a.createElement(x.a,{key:t.by+a,className:"documents__doc-card"},r.a.createElement("div",{className:"documents__card-file-type",onClick:function(){return e.handleDocClick(t)}},r.a.createElement("i",{className:Te[t.docType],style:{fontSize:"5em"}})),r.a.createElement("div",{className:"documents__card-heading"},r.a.createElement("p",null,t.title)),r.a.createElement("div",{className:"documents__card-subtext"},r.a.createElement("p",null,"edited by "+t.author)))})};return r.a.createElement(n.Fragment,null,r.a.createElement(de.a,{show:"doc"===this.state.showModal,onHide:this.handleHide,dialogClassName:"documents__modal-wide"},r.a.createElement(de.a.Header,{closeButton:!0}," ",r.a.createElement(de.a.Title,null,this.state.modalTitle)," "),r.a.createElement(de.a.Body,null,r.a.createElement("h4",{className:"documents__modal-author"},"by "+this.state.modalAuthor),r.a.createElement(we.a,{source:this.state.modalContent}))),r.a.createElement(de.a,{show:"upload"===this.state.showModal,onHide:this.handleHide,dialogClassName:"documents__modal-wide"},r.a.createElement(de.a.Header,{closeButton:!0}," ",r.a.createElement(de.a.Title,null,"Upload files to HR Nexus")," "),r.a.createElement(pe.a,{show:"upload"===this.state.showAlert,onClose:function(){return e.closeAlert()},dismissible:!0,variant:"danger"},r.a.createElement(pe.a.Heading,null,"Oh snap! You got an error!"),r.a.createElement("p",null,this.state.alertText)),r.a.createElement(function(t){var a=Object(Ae.a)(),s=a.acceptedFiles,o=a.getRootProps,c=a.getInputProps,l=s.map(function(e){return r.a.createElement("li",{key:e.path},e.path," - ",e.size," bytes")});return r.a.createElement(n.Fragment,null,r.a.createElement("section",{className:"documents__container"},r.a.createElement("div",o({className:"documents__dropzone"}),r.a.createElement("input",c()),r.a.createElement("p",null,"Drag 'n' drop some files here, or click to select files")),r.a.createElement("aside",null,r.a.createElement("h4",{className:"documents__dropzone-files"},"Files"),r.a.createElement("ul",null,l))),r.a.createElement(D.a,{variant:"primary",className:"documents__button",onClick:function(){return e.handleHrUpload(s)}},"Submit"))},null)),r.a.createElement(Ee.Accordion,{allowZeroExpanded:!0,allowMultipleExpanded:!0},r.a.createElement(Ee.AccordionItem,null,r.a.createElement(Ee.AccordionItemHeading,null,r.a.createElement(Ee.AccordionItemButton,null,"HR Documents")),r.a.createElement(Ee.AccordionItemPanel,null,r.a.createElement(pe.a,{show:"hrFiles"===this.state.showAlert,onClose:function(){return e.closeAlert()},dismissible:!0,variant:"danger"},r.a.createElement(pe.a.Heading,null,"Oh snap! You got an error!"),r.a.createElement("p",null,this.state.alertText)),r.a.createElement(v.a,{className:"documents__button-row"},r.a.createElement(D.a,{variant:"primary",className:"documents__button",onClick:function(){return e.handleShow("upload")}},"Upload ",r.a.createElement("i",{className:"fas fa-arrow-up",style:{fontSize:"1em"}}))),r.a.createElement(v.a,null,r.a.createElement("h3",{className:"documents__sub-heading"},"New")),void 0!==this.state.hrDocs&&null!==this.state.hrDocs&&t("hrDocs"))),r.a.createElement(Ee.AccordionItem,null,r.a.createElement(Ee.AccordionItemHeading,null,r.a.createElement(Ee.AccordionItemButton,null,"My Documents")),r.a.createElement(Ee.AccordionItemPanel,null,r.a.createElement(pe.a,{show:"buckets"===this.state.showAlert,onClose:function(){return e.closeAlert()},dismissible:!0,variant:"danger"},r.a.createElement(pe.a.Heading,null,"Oh snap! You got an error!"),r.a.createElement("p",null,this.state.alertText)),r.a.createElement(v.a,{className:"documents__button-row"},r.a.createElement(ye.a,{className:"mb-3 documents__input-group"},r.a.createElement(be.a,{type:"Text",placeholder:"Find documents by bucket",name:"searchBucketName",value:this.state.searchBucketName,onChange:function(t){e.handleChange(t)},onKeyPress:function(t){"Enter"===t.key&&e.handleBucketSearch()}}),r.a.createElement(ye.a.Append,null,r.a.createElement(D.a,{variant:"outline-secondary",onClick:function(){e.handleBucketSearch()}}," ",r.a.createElement("i",{className:"fab fa-bitbucket"})," ")))),r.a.createElement(v.a,null,r.a.createElement("h3",{className:"documents__sub-heading"},"Files")),void 0!==this.state.myDocs&&null!==this.state.myDocs?t("myDocs"):r.a.createElement("div",{className:"documents__empty-files"})))))}}]),t}(n.Component),Ie=(a(224),window.localStorage);function De(){return Me.apply(this,arguments)}function Me(){return(Me=Object(U.a)(B.a.mark(function e(){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P+"/v1/cube_message",{method:"GET",headers:{Authorization:Ie.getItem("Authorization")}}).then(function(e){return H(e),e.json()}).then(function(e){return e}).catch(function(e){console.error(e)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Be(e){return ze.apply(this,arguments)}function ze(){return(ze=Object(U.a)(B.a.mark(function e(t){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P+"/v1/cube_message/"+t,{method:"GET",headers:{Authorization:Ie.getItem("Authorization")}}).then(function(e){return H(e),e.json()}).then(function(e){return e}).catch(function(e){console.error(e)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ue(e,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(U.a)(B.a.mark(function e(t,a){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P+"/v1/cube_message/"+t,{method:"POST",body:JSON.stringify({content:a}),headers:{Authorization:Ie.getItem("Authorization"),"Content-Type":"application/json"}}).then(function(e){return H(e),e.json()}).then(function(e){return e}).catch(function(e){console.error(e)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function He(){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(U.a)(B.a.mark(function e(){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P+"/v1/cube_message/new",{method:"GET",headers:{Authorization:Ie.getItem("Authorization")}}).then(function(e){return H(e),e.json()}).then(function(e){return e}).catch(function(e){console.error(e)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Re(e,t){return Le.apply(this,arguments)}function Le(){return(Le=Object(U.a)(B.a.mark(function e(t,a){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P+"/v1/cube_message/new",{method:"POST",body:JSON.stringify({userID:t}),headers:{Authorization:Ie.getItem("Authorization"),"Content-Type":"application/json"}}).then(function(e){return H(e),e.json()}).then(function(){var e=Object(U.a)(B.a.mark(function e(t){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error(e)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ge(e,t){var a=""+t.toUpperCase(),n=[];return""!==a?e.forEach(function(e){(e.firstName.toUpperCase()+" "+e.lastName.toUpperCase()).includes(a)&&(n=[e].concat(Object(z.a)(n)))}):n=n.concat(Object(z.a)(e)),n}var We=a(242),Je=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={messages:null,messageText:""},a.handleNewMessage=a.handleNewMessage.bind(Object(m.a)(a)),a.scrollToBottom=a.scrollToBottom.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(U.a)(B.a.mark(function e(){var t;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(this.props.chatId);case 2:t=e.sent,this.setState({messages:t}),this.scrollToBottom();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value,n={};n[t]=a,this.setState(n)}},{key:"handleNewMessage",value:function(){var e=Object(U.a)(B.a.mark(function e(){var t;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue(this.props.chatId,this.state.messageText);case 2:void 0!==(t=e.sent)&&(this.setState({messages:Object(z.a)(this.state.messages).concat([t]),messageText:""}),this.scrollToBottom());case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"scrollToBottom",value:function(){this.messagesEnd.scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(b.a,{fluid:!0},void 0!==this.state.messages&&null!==this.state.messages&&this.state.messages.map(function(t){return r.a.createElement(v.a,{key:t.MessageID,className:"messages__message-box"},r.a.createElement("div",{className:"messages__profile-img-container"},e.props.otherUser.id===t.CubeEmployeesSenderID&&r.a.createElement(_.a,{src:e.props.otherUser.photoURL,thumbnail:!0,className:"app__profile-img"})),r.a.createElement(x.a,{className:"messages__card "+(e.props.user.id===t.CubeEmployeesSenderID?"messages__card-user":"messages__card-other-user")},r.a.createElement(x.a.Body,null,r.a.createElement("p",null,t.content)),r.a.createElement(x.a.Footer,{className:"text-muted messages__card-footer"},t.post_time.substring(0,19))),r.a.createElement("div",{className:"messages__profile-img-container"},e.props.user.id===t.CubeEmployeesSenderID&&r.a.createElement(_.a,{src:e.props.user.photoURL,thumbnail:!0,className:"app__profile-img"})))}),r.a.createElement("div",{className:"autoscroll-dummy",ref:function(t){e.messagesEnd=t}})),r.a.createElement(ye.a,{className:"mb-3 messages__new-message"},r.a.createElement(be.a,{className:"messages__form-border-radius",type:"text",placeholder:"Send a message...",name:"messageText",value:this.state.messageText,onChange:function(t){e.handleChange(t)},onKeyPress:function(t){"Enter"===t.key&&e.handleNewMessage()}}),r.a.createElement(ye.a.Append,null,r.a.createElement(D.a,{variant:"outline-secondary",className:"messages__form-border-radius",onClick:function(){e.handleNewMessage()}}," ",r.a.createElement("i",{className:"far fa-paper-plane"})," "))))}}]),t}(n.Component),Ke=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={chats:null,showModal:!1,newMessageText:"",employeesDisplayed:null,searchField:"",searchDropdown:!1},a.handleSearch=a.handleSearch.bind(Object(m.a)(a)),a.handleNewMessageThread=a.handleNewMessageThread.bind(Object(m.a)(a)),a.closeModal=a.closeModal.bind(Object(m.a)(a)),a.openModal=a.openModal.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(U.a)(B.a.mark(function e(){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,De();case 3:e.t1=e.sent,e.t2={chats:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value,n={};n[t]=a,this.setState(n)}},{key:"handleSearch",value:function(){Array.isArray(this.state.employees)?this.setState({employeesDisplayed:Ge(this.state.employees,this.state.searchField)}):this.setState({noParticipantsError:!0}),this.setState({searchDropdown:!0})}},{key:"closeModal",value:function(){this.setState({showModal:!1,newMessageText:"",searchDropdown:!1,searchField:""})}},{key:"openModal",value:function(){var e=Object(U.a)(B.a.mark(function e(){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,He();case 3:e.t1=e.sent,e.t2={employees:e.t1,showModal:!0,newMessageUserID:0,noParticipantsError:!1,sendError:!1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleNewMessageThread",value:function(){var e=Object(U.a)(B.a.mark(function e(){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(this.state.newMessageUserID,this.state.newMessageText);case 2:if(void 0!==e.sent){e.next=7;break}this.setState({sendError:!0}),e.next=14;break;case 7:return this.closeModal(),e.t0=this,e.next=11,De();case 11:e.t1=e.sent,e.t2={chats:e.t1},e.t0.setState.call(e.t0,e.t2);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(de.a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",onHide:function(){e.closeModal()},show:this.state.showModal,centered:!0},this.state.sendError&&r.a.createElement(pe.a,{variant:"danger"}," Something went wrong. Please try again "),r.a.createElement(de.a.Header,{closeButton:!0},r.a.createElement("div",{className:"messages__new-recipient"},r.a.createElement(ye.a,{className:"mb-3 messages__input-group"},r.a.createElement(be.a,{type:"Text",placeholder:"To:",name:"searchField",value:this.state.searchField,onChange:function(t){e.handleChange(t),e.handleSearch()},onKeyPress:function(t){"Enter"===t.key&&e.handleSearch()}})),!0===this.state.searchDropdown&&r.a.createElement(We.a,null,void 0!==this.state.employeesDisplayed&&null!==this.state.employeesDisplayed&&this.state.employeesDisplayed.map(function(t,a){var n=t.firstName+" "+t.lastName;return r.a.createElement(We.a.Item,{key:"messages-user-"+t.id+a,onClick:function(){e.setState({newMessageUserID:t.id,searchField:n,searchDropdown:!1})},action:!0},r.a.createElement(v.a,null,r.a.createElement(w.a,{xs:2},r.a.createElement(_.a,{src:t.photoURL,className:"messages__search-profile-img",roundedCircle:!0})),r.a.createElement(w.a,{xs:10},r.a.createElement("p",null,n))))}),this.state.noParticipantsError&&r.a.createElement(We.a.Item,null,r.a.createElement(v.a,null,r.a.createElement("p",null,"No valid message participants found...")))))),r.a.createElement(de.a.Body,null,r.a.createElement(I.a.Group,{controlId:"postText"},r.a.createElement(I.a.Control,{type:"Text",as:"textarea",rows:"3",placeholder:"New message content...",name:"newMessageText",value:this.state.newMessageText,onChange:function(t){e.handleChange(t)}}))),r.a.createElement(de.a.Footer,null,r.a.createElement(D.a,{onClick:function(){e.handleNewMessageThread()},className:"messages__send-new-btn",block:!0},"Send"))),r.a.createElement(We.a,{variant:"flush",className:"messages__chats-column"},r.a.createElement("div",null,r.a.createElement("h3",{className:"messages__heading float-left "},"Messages"),r.a.createElement("i",{className:"far fa-edit messages__new-message-icon float-right",style:{fontSize:"2em"},onClick:function(){return e.openModal()}})),void 0!==this.state.chats&&null!==this.state.chats&&this.state.chats.map(function(e,t){return r.a.createElement(We.a.Item,{key:"chat-"+e.chat.chat_id,className:0===t?"messages__no-top-border":"messages__normal-list",action:!0},r.a.createElement(g.a,{to:"/portal/messages/"+e.chat.chat_id,style:{textDecoration:"none"}},r.a.createElement(v.a,null,r.a.createElement(w.a,{xs:3},r.a.createElement(_.a,{src:e.OtherParticipant.photoURL,thumbnail:!0,className:"messages__profile-img"})),r.a.createElement(w.a,{xs:9},r.a.createElement(v.a,null,r.a.createElement(w.a,{xs:9},r.a.createElement("h4",{className:"messages__text-orange"},e.OtherParticipant.firstName+" "+e.OtherParticipant.lastName)),r.a.createElement(w.a,{xs:3},r.a.createElement("p",{className:"messages__text-muted"},e.chat.Most_Recent_Message_Time.substring(5,10)))),r.a.createElement(v.a,null,r.a.createElement(w.a,{xs:12},r.a.createElement("p",{className:"messages__text-muted"},e.chat.Most_Recent_Message_Content)))))))})),r.a.createElement("div",{className:"messages__fixed-content"},void 0!==this.state.chats&&null!==this.state.chats&&this.state.chats.map(function(t){return r.a.createElement(y.a,{key:"individual-chat-"+t.chat.chat_id,path:"/portal/messages/"+t.chat.chat_id,render:function(a){return r.a.createElement(Je,Object.assign({},a,{chatId:t.chat.chat_id,otherUser:t.OtherParticipant,user:e.props.user}))}})}),r.a.createElement(y.a,{exact:!0,path:"/portal/messages",render:function(){return r.a.createElement(b.a,{fluid:!0},r.a.createElement("h3",{className:"messages__heading"},"Select a chat."))}})))}}]),t}(n.Component),Ye=(a(225),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={employeesDisplayed:null,searchField:""},a.handleSearch=a.handleSearch.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(U.a)(B.a.mark(function e(){var t;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:t=e.sent,this.setState({employees:t,employeesDisplayed:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value,n={};n[t]=a,this.setState(n)}},{key:"handleSearch",value:function(){this.setState({employeesDisplayed:J(this.state.employees,this.state.searchField)})}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(b.a,{fluid:!0,className:"directory__container"},r.a.createElement(v.a,{className:"directory__search-row-1"},r.a.createElement("h2",null,"Employee Directory")),r.a.createElement(v.a,{className:"directory__search-row-2"},r.a.createElement(ye.a,{className:"mb-3 directory__input-group"},r.a.createElement(be.a,{type:"Text",placeholder:"Search Names",name:"searchField",value:this.state.searchField,onChange:function(t){e.handleChange(t)},onKeyPress:function(t){"Enter"===t.key&&e.handleSearch()}}),r.a.createElement(ye.a.Append,null,r.a.createElement(D.a,{variant:"outline-secondary",onClick:function(){void 0!==e.state.employeesDisplayed&&null!==e.state.employeesDisplayed&&e.handleSearch()}}," ",r.a.createElement("i",{className:"fa fa-search"})," ")))),void 0!==this.state.employeesDisplayed&&null!==this.state.employeesDisplayed&&this.state.employeesDisplayed.map(function(t,a){return r.a.createElement("div",{key:"directory-user-"+t.user.id+a},t.user.id!==e.props.user.id&&r.a.createElement(x.a,{className:"directory__card"},r.a.createElement(v.a,null,r.a.createElement(w.a,{xs:3},r.a.createElement(_.a,{src:t.user.photoURL,thumbnail:!0,className:"directory__profile-img"})),r.a.createElement(w.a,{xs:9,className:"directory__user-info"},r.a.createElement("h4",null,t.user.firstName+" "+t.user.lastName),r.a.createElement(v.a,null,r.a.createElement(w.a,{xs:4},r.a.createElement("p",{className:"directory__info-sub-heading"},"Username:")),r.a.createElement(w.a,{xs:8},r.a.createElement("p",null,t.user.userName))),r.a.createElement(v.a,null,r.a.createElement(w.a,{xs:4},r.a.createElement("p",{className:"directory__info-sub-heading"},"Team:")),r.a.createElement(w.a,{xs:8},r.a.createElement("p",null,t.user.role))),r.a.createElement(v.a,null,r.a.createElement(w.a,{xs:4},r.a.createElement("p",{className:"directory__info-sub-heading"},"Role:")),r.a.createElement(w.a,{xs:8},r.a.createElement("p",null,t.user.team)))))))})))}}]),t}(n.Component)),qe=[{pathKey:"home",faIcon:"fas fa-home",navText:"Home"},{pathKey:"camochat",faIcon:"fas fa-rss",navText:"Camochat"},{pathKey:"documents",faIcon:"far fa-file-alt",navText:"Documents"},{pathKey:"directory",faIcon:"fas fa-users",navText:"Employee Directory"},{pathKey:"messages",faIcon:"fas fa-comment",navText:"Messages"}],Ve=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={navToggle:!0},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"bounded-screen "+(!0===this.props.location.pathname.includes("/portal/camochat")?"portal__camochat-background":"white-background")},r.a.createElement(q.a,{onToggle:function(){e.setState(function(e){return{navToggle:!e.navToggle}})},onSelect:function(t){var a="/portal";"home"!==t&&(a=a+"/"+t),e.props.location.pathname!==a&&"/portal/signout"!==a&&e.props.history.push(a)},expanded:this.state.navToggle,className:"portal__side-nav"},r.a.createElement(Y.Toggle,null),r.a.createElement(q.a.Nav,{defaultSelected:"home"},qe.map(function(e){return r.a.createElement(Y.NavItem,{eventKey:e.pathKey,key:e.pathKey},r.a.createElement(Y.NavIcon,null,r.a.createElement("i",{className:e.faIcon,style:{fontSize:"1.75em"}})),r.a.createElement(Y.NavText,null,e.navText))}),r.a.createElement(Y.NavItem,{eventKey:"signout",onClick:function(){!function(e){L.apply(this,arguments)}(e.props.handleSignOut)},className:"portal__nav-log-out "+(!1===this.state.navToggle?"portal__nav-off":"portal__nav-on")},r.a.createElement(Y.NavIcon,null,r.a.createElement("i",{className:"fa fa-hand-peace",style:{fontSize:"1.75em"}})),r.a.createElement(Y.NavText,null,"Sign Out")))),r.a.createElement("div",{className:"portal__fixed-content "+(!1===this.state.navToggle?"portal__box-toggle-off":"portal__box-toggle-on")},r.a.createElement(y.a,{exact:!0,path:"/portal",component:ae}),r.a.createElement(y.a,{path:"/portal/camochat",render:function(t){return r.a.createElement(ge,Object.assign({},t,{user:e.props.user,navToggle:e.state.navToggle}))}}),r.a.createElement(y.a,{path:"/portal/documents",render:function(t){return r.a.createElement(Ce,Object.assign({},t,{user:e.props.user}))}}),r.a.createElement(y.a,{path:"/portal/directory",render:function(t){return r.a.createElement(Ye,Object.assign({},t,{user:e.props.user}))}}),r.a.createElement(y.a,{path:"/portal/messages",render:function(t){return r.a.createElement(Ke,Object.assign({},t,{user:e.props.user}))}})))}}]),t}(n.Component),Qe=a(238),Xe=a(239),Ze=a(96),$e=function(e){var t=e.component,a=e.user,n=e.isAuthed,s=e.handleSignOut,o=Object(Ze.a)(e,["component","user","isAuthed","handleSignOut"]);return r.a.createElement(y.a,Object.assign({},o,{render:function(e){return n?r.a.createElement(t,Object.assign({},e,{user:a,handleSignOut:function(){return s()}})):r.a.createElement(C.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},et=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={isAuthenticated:!1,user:{firstName:"",photoURL:"",lastName:"",userName:""}},a.handleSignOut=a.handleSignOut.bind(Object(m.a)(a)),a.handleSignIn=a.handleSignIn.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){null!==window.localStorage.getItem("Authorization")&&this.handleSignIn()}},{key:"handleSignIn",value:function(){this.setState({isAuthenticated:!0,user:JSON.parse(window.localStorage.getItem("User"))})}},{key:"handleSignOut",value:function(){this.setState({isAuthenticated:!1,user:{firstName:"",photoURL:"",lastName:"",userName:""}})}},{key:"render",value:function(){var e=this;return r.a.createElement(f.a,null,r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement(Qe.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(Qe.a.Brand,null,r.a.createElement(g.a,{to:this.state.isAuthenticated?"/portal":"/",className:"navLinks white-text"},"C U B E ",r.a.createElement(_.a,{src:p.a,alt:"Logo"})," R U L E")),r.a.createElement(Qe.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(Qe.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(Xe.a,{className:"mr-auto"}),r.a.createElement(Xe.a,null,this.state.isAuthenticated?r.a.createElement(v.a,null,r.a.createElement("div",{className:"white-text app__username-text"},"Hello, ",this.state.user.firstName,"!"),r.a.createElement("div",{className:"app__profile-img-container"},r.a.createElement(_.a,{src:this.state.user.photoURL,thumbnail:!0,className:"app__profile-img"}))):r.a.createElement(g.a,{to:"/portal",className:"navLinks white-text"},"Sign In"))))),r.a.createElement("main",null,r.a.createElement(E.a,null,r.a.createElement(y.a,{exact:!0,path:"/",component:T}),r.a.createElement(y.a,{exact:!0,path:"/login",render:function(t){return r.a.createElement(K,Object.assign({},t,{isAuthed:e.state.isAuthenticated,handleSignIn:function(){return e.handleSignIn()}}))}}),r.a.createElement($e,{path:"/portal",component:Ve,user:this.state.user,isAuthed:this.state.isAuthenticated,handleSignOut:function(){return e.handleSignOut()}})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(et,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},85:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAC9wAAAvcBLRSNOAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFwSURBVGiB7di/LwNxGMfx90MjEYbGJhFGCYuVGGqSGG1ilKj/wI+pBgl/AGmZxWQwsrQD0tHiHzBY2SSGfixsveu3PfeDPK/x+r3ked/37pIrOOdcIUk6kNRRNo4kWRoR65I+Moq4ljT6e8OfMv4dUZH0llFEU1K5nzmHIn8p0dYFU2bWApaBlyQXJFAFeJA0HXpCdADM0+FeZ8ya2TOwCDwlHDDEHNCWtBCyOC4AYIZhHnXOkpm9AitAK+GAISaBpqRKr4W9AgAmEHeqs2Zm78AqcJVwwBBl4FbSRtyikACAMYwb1dkys09gEzhJOmGAEeBS0m7Ugsh3rxqo22HEvu1kMnyQ0B34YRjHqUwyoFKSkyV126VUmFnXu6XfHSgcD8ibB+TNA/LmAXnzgLx5QN48IG8ekLd/HGDF+XCPExlg2+wBhxnOMpDYW8iq1Ch4RM9noOgRQQ9xkSOC30JFjejrjy2rUlMjrVGcc+4v+gJ8YZiB5NLi8QAAAABJRU5ErkJggg=="},89:function(e,t,a){e.exports=a.p+"static/media/hire.6e8088aa.png"},90:function(e,t,a){e.exports=a.p+"static/media/fence.cd0778bc.jpg"},91:function(e,t,a){e.exports=a.p+"static/media/brick.0c604d8f.jpg"},97:function(e,t,a){e.exports=a(227)}},[[97,1,2]]]);
//# sourceMappingURL=main.81efb5b4.chunk.js.map